@model ErrorViewModel
@{
    ViewData["Title"] = "Oops! Something went wrong.";
    var role = Context.Session.GetString("Role");
}

<style>
    body {
        background-color: #121212;
        font-family: 'Segoe UI', sans-serif;
    }
</style>

<div class="error-container text-center mt-5">
    <h1 class="text-danger">Something went wrong.</h1>

    @if (!string.IsNullOrEmpty(ViewBag.ErrorMessage))
    {
        <p class="lead text-warning">@ViewBag.ErrorMessage</p>
    }

    @if (ViewBag.StatusCode != null)
    {
        <p class="text-danger"><strong>Status Code:</strong> @ViewBag.StatusCode</p>
    }

    @{
        int statusCode = ViewBag.StatusCode != null ? Convert.ToInt32(ViewBag.StatusCode) : 0;
    }
    @if (statusCode == 403)
    {
        <p class="text-warning">
            You do not have permission to access this resource. If this was an error and you should have access, please contact support.
        </p>
        <p class="text-danger mt-4">
            If you are attempting to bypass the system restrictions, please be aware that such actions are monitored and may lead to account suspension or further action.
        </p>
    }

    else if (ViewBag.RoleMissing)
    {
        <p class="text-danger mt-4">
            We couldn't determine your role or starting point. This may be due to a system error or expired session.
        </p>

        @if (statusCode == 404 || statusCode == 0)
        {
            <p class="text-warning">
                Please contact support with the error code "0H_5H1T" or try accessing the system again later.
            </p>
        }
    }
    else if (!string.IsNullOrEmpty(ViewBag.RedirectController))
    {
        <p class="mt-4">
            <a class="btn btn-warning" asp-controller="@ViewBag.RedirectController" asp-action="@ViewBag.RedirectAction">
                Return to Dashboard
            </a>
        </p>
    }


</div>
